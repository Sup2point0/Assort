<div class="markdown-heading"><h1 class="heading-element">Programming Style Cipher Text</h1><a id="user-content-programming-style-cipher-text" class="anchor" aria-label="Permalink: Programming Style Cipher Text" href="#programming-style-cipher-text"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>Ah, don’t we all love <a href="https://yugipedia.com/wiki/Problem-Solving_Card_Text" rel="nofollow">PSCT<sup>↗</sup></a> – <del>Problem-Solving Card Text</del> <em>Programming Style Cipher Text</em>, ofc.</p>
<br>
<div class="markdown-heading"><h2 class="heading-element">Overview</h2><a id="user-content-overview" class="anchor" aria-label="Permalink: Overview" href="#overview"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<br>
<div class="markdown-heading"><h2 class="heading-element">Cases</h2><a id="user-content-cases" class="anchor" aria-label="Permalink: Cases" href="#cases"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>A selection of diverse instances to illustrate how <em>PSCT</em> works.</p>
<div class="markdown-heading"><h3 class="heading-element">Monsters</h3><a id="user-content-monsters" class="anchor" aria-label="Permalink: Monsters" href="#monsters"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<table>
  <tbody><tr>
    <th rowspan="2"> card </th>
    <th> PSCT </th>
  </tr>
  <tr>
    <th> <em>PSCT</em> </th>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Gigantic_Spright" rel="nofollow">Gigantic Spright<sup>↗</sup></a> </td>
    <td> 2 Level 2 monsters <br> For this card's Xyz Summon, you can treat Link-2 monsters you control as Level 2 monsters for material. The original ATK of this card that has a Fusion, Synchro, Xyz, or Link Monster as material becomes doubled. During your Main Phase: You can activate this effect; detach 1 material from a monster you control, and if you do, Special Summon 1 Level 2 monster from your Deck, also neither player can Special Summon monsters for the rest of this turn, except Level/Rank/Link 2 monsters. You can only use this effect of "Gigantic Spright" once per turn. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[S] <span class="pl-c1">2</span> <span class="pl-k">*</span> Monster[<span class="pl-v">level</span><span class="pl-k">=</span><span class="pl-c1">2</span>]
  [C] <span class="pl-en">opt</span> <span class="pl-v">cond</span><span class="pl-k">:</span> <span class="pl-smi">self</span>.<span class="pl-en">Summon</span>(Xyz) <span class="pl-k">with</span> Monsters[Link, <span class="pl-v">link</span><span class="pl-k">=</span><span class="pl-c1">2</span>] <span class="pl-k">as</span> Monster[<span class="pl-v">level</span><span class="pl-k">=</span><span class="pl-c1">2</span>]
[<span class="pl-c1">1</span>] <span class="pl-en">cont</span> eff <span class="pl-k">if</span> <span class="pl-smi">self</span>.<span class="pl-en">materials</span> <span class="pl-en">has</span> Monster[<span class="pl-v">class</span><span class="pl-k">=</span>EXTRA]<span class="pl-k">:</span> <span class="pl-en">Alt</span>(<span class="pl-smi">self</span>.<span class="pl-c1">ATK</span>.<span class="pl-smi">orig</span>, <span class="pl-k">*</span><span class="pl-c1">2</span>)
[<span class="pl-c1">2</span>] <span class="pl-en">opt</span> <span class="pl-en">ignit</span> <span class="pl-en">eff</span> [HOPT]<span class="pl-k">:</span> <span class="pl-en">Detach</span>(Monster[Xyz, <span class="pl-v">control</span><span class="pl-k">=</span>YOU], <span class="pl-c1">1</span>) to
  <span class="pl-en">Summon</span>(Special, DECK, Monster[<span class="pl-v">level</span><span class="pl-k">=</span><span class="pl-c1">2</span>]) <span class="pl-k">+</span> <span class="pl-en">Apply</span>(<span class="pl-v">turn</span><span class="pl-k">=</span>THIS) {
    Player[].<span class="pl-smi">Summon</span><span class="pl-k">!</span>(Special, Monster[level<span class="pl-k">!=</span><span class="pl-c1">2</span>]) } </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Exosisters_Magnifica" rel="nofollow">Exosisters Magnifica<sup>↗</sup></a> </td>
    <td> 2 Rank 4 "Exosister" Xyz Monsters <br> Must be Xyz Summoned with the above materials. This card can make a second attack during each Battle Phase. Once per turn (Quick Effect): You can detach 1 material from this card; banish 1 card your opponent controls. When your opponent activates a card or effect (Quick Effect): You can return 1 Xyz Monster you own attached to this card to your Extra Deck, then you can Special Summon that monster from your Extra Deck, by using this card you control as material. (This is treated as an Xyz Summon. Transfer this card's materials to the Summoned monster.) </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[S] <span class="pl-en">req</span> <span class="pl-c1">2</span> <span class="pl-k">*</span> Monster[<span class="pl-s"><span class="pl-pds">'</span>Exosister<span class="pl-pds">'</span></span>, Xyz, <span class="pl-v">rank</span><span class="pl-k">=</span><span class="pl-c1">4</span>]
[<span class="pl-c1">1</span>] <span class="pl-en">cont</span> <span class="pl-v">eff</span><span class="pl-k">:</span> Attack<span class="pl-k">?</span>(<span class="pl-v">count</span><span class="pl-k">=</span><span class="pl-k">+</span><span class="pl-c1">1</span>, <span class="pl-v">each</span><span class="pl-k">=</span><span class="pl-smi">Phase</span>.<span class="pl-smi">Battle</span>)
[<span class="pl-c1">2</span>] <span class="pl-en">opt</span> <span class="pl-en">quick</span> <span class="pl-en">eff</span> [OPT]<span class="pl-k">:</span> <span class="pl-smi">self</span>.<span class="pl-en">Detach</span>(<span class="pl-c1">1</span>); <span class="pl-en">Banish</span>(Card[<span class="pl-v">control</span><span class="pl-k">=</span>OPP])
[<span class="pl-c1">3</span>] <span class="pl-en">opt</span> <span class="pl-en">quick</span> <span class="pl-en">eff</span> <span class="pl-c1">on</span> <span class="pl-c1">OPP</span>.<span class="pl-en">Activate</span>(Card<span class="pl-k">/</span>Effect[])<span class="pl-k">:</span> 
  <span class="pl-en">Return</span>(<span class="pl-smi">self</span>.<span class="pl-smi">materials</span>, EXTRA, Monster[Xyz, <span class="pl-v">own</span><span class="pl-k">=</span>YOU] <span class="pl-k">-&gt;</span> t),
  <span class="pl-smi">t</span>.<span class="pl-smi">Summon</span><span class="pl-k">?</span>(Xyz, <span class="pl-v">transfer</span><span class="pl-k">=</span>TRUE) <span class="pl-k">with</span> self </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Drytron_Meteonis_Draconids" rel="nofollow">Drytron Meteonis Draconids<sup>↗</sup></a> </td>
    <td> You can Ritual Summon this card with "Meteonis Drytron". Your opponent cannot target this card with monster effects. If the total Levels of monsters used for its Ritual Summon are 2 or less, this card can attack all Special Summoned monsters your opponent controls once each. During your opponent's turn (Quick Effect): You can banish monsters from your GY whose combined ATK equals exactly 2000 or 4000, then target 1 face-up card your opponent controls for every 2000 ATK of the total; send that card(s) to the GY. You can only use this effect of "Drytron Meteonis Draconids" once per turn. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[S] <span class="pl-s"><span class="pl-pds">'</span>Meteonis Drytron<span class="pl-pds">'</span></span>
[<span class="pl-c1">1</span>] <span class="pl-en">cont</span> <span class="pl-v">eff</span><span class="pl-k">:</span> <span class="pl-c1">OPP</span>.<span class="pl-smi">Target</span><span class="pl-k">!</span>(self) <span class="pl-k">with</span> Effects[Monster]
[<span class="pl-c1">2</span>] <span class="pl-en">opt</span> <span class="pl-en">cont</span> eff <span class="pl-k">if</span> <span class="pl-en">Total</span>(<span class="pl-smi">self</span>.<span class="pl-smi">Summon</span>[Ritual].<span class="pl-smi">Monsters</span>[].<span class="pl-smi">levels</span>) <span class="pl-k">=</span><span class="pl-k">&lt;</span> <span class="pl-c1">2</span><span class="pl-k">:</span>
  <span class="pl-smi">self</span>.<span class="pl-smi">Attack</span><span class="pl-k">?</span>(<span class="pl-en">all</span> Monsters[<span class="pl-v">SS</span><span class="pl-k">=</span>TRUE, <span class="pl-v">control</span><span class="pl-k">=</span>OPP])
[<span class="pl-c1">3</span>] <span class="pl-en">opt</span> <span class="pl-en">quick</span> <span class="pl-en">eff</span> [HOPT, <span class="pl-v">turn</span><span class="pl-k">=</span>OPP]<span class="pl-k">:</span>
  <span class="pl-en">Banish</span>(<span class="pl-c1">YOU</span>.<span class="pl-c1">GY</span>, Monsters[ATK <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>]) <span class="pl-k">-&gt;</span> fuel, <span class="pl-en">where</span> <span class="pl-en">Total</span>(fuel, ATK) <span class="pl-k">-&gt;</span> <span class="pl-v">c</span> <span class="pl-k">=</span> <span class="pl-c1">2000</span><span class="pl-k">/</span><span class="pl-c1">4000</span>,
  <span class="pl-en">Target</span>(<span class="pl-c1">2000</span> \ t <span class="pl-k">*</span> Card[<span class="pl-v">control</span><span class="pl-k">=</span>OPP, <span class="pl-v">face</span><span class="pl-k">=</span>UP]) <span class="pl-k">-&gt;</span> t; <span class="pl-en">Send</span>(GY, t) </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Dogmatika_Alba_Zoa" rel="nofollow">Dogmatika Alba Zoa<sup>↗</sup></a> </td>
    <td> Cannot be Ritual Summoned, except by "Dogmatikalamity" or another "Dogmatika" card effect. "Dogmatika" monsters you control are unaffected by the activated effects of your opponent's Fusion, Synchro, Xyz, and Link Monsters. During your Main Phase: You can make your opponent choose and apply 1 of these effects ('you' in these effects means that opponent). <br> ● For every 2 cards in your Extra Deck, send 1 card from your hand or Extra Deck to the GY. <br> ● Return all Fusion, Synchro, Xyz, and Link Monsters you control to the Extra Deck. <br> You can only use this effect of "Dogmatika Alba Zoa" once per turn. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[S] <span class="pl-en">req</span> Card[<span class="pl-s"><span class="pl-pds">"</span>Dogmatika<span class="pl-pds">"</span></span>]
[<span class="pl-c1">1</span>] <span class="pl-en">cont</span> <span class="pl-v">eff</span><span class="pl-k">:</span> <span class="pl-en">Unaffected</span>(Monsters[<span class="pl-s"><span class="pl-pds">'</span>Dogmatika<span class="pl-pds">'</span></span>, <span class="pl-v">control</span><span class="pl-k">=</span>YOU]) <span class="pl-k">by</span> {
  Effects[OPP, activated, Monsters[<span class="pl-v">class</span><span class="pl-k">=</span>EXTRA]] }
[<span class="pl-c1">2</span>] <span class="pl-en">opt</span> <span class="pl-en">ignit</span> <span class="pl-en">eff</span> [HOPT]<span class="pl-k">:</span> <span class="pl-c1">OPP</span>.<span class="pl-en">Apply</span>(Effect[]) <span class="pl-k">from</span> {
  [<span class="pl-c1">2.1</span>] <span class="pl-en">Total</span>(Cards[] <span class="pl-k">in</span> <span class="pl-c1">OPP</span>.<span class="pl-c1">EXTRA</span>) \ <span class="pl-ii">2</span> <span class="pl-k">-&gt;</span> c, <span class="pl-c1">OPP</span>.<span class="pl-en">Send</span>(HAND<span class="pl-k">/</span>EXTRA, GY, c <span class="pl-k">*</span> Card[])
  [<span class="pl-c1">2.2</span>] <span class="pl-c1">OPP</span>.<span class="pl-en">Return</span>(EXTRA, Monsters[<span class="pl-v">class</span><span class="pl-k">=</span>EXTRA], <span class="pl-v">control</span><span class="pl-k">=</span>OPP])
} </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Kashtira_Arise-Heart" rel="nofollow">Kashtira Arise-Heart<sup>↗</sup></a> </td>
    <td> 3 Level 7 monsters <br> Once per turn, you can also Xyz Summon "Kashtira Arise-Heart" by using 1 "Kashtira" monster you control, if an effect of "Kashtira Shangri-Ira" was successfully activated this turn. (Transfer its materials to this card.) Any card sent to the GY is banished instead. Once per Chain, each time a card(s) is banished: Attach 1 banished card to this card as material. Once per turn (Quick Effect): You can detach 3 materials from this card, then target 1 card on the field; banish it face-down. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[S] <span class="pl-c1">3</span> <span class="pl-k">*</span> Monster[<span class="pl-v">level</span><span class="pl-k">=</span><span class="pl-c1">7</span>]
  <span class="pl-en">opt</span> <span class="pl-en">cond</span> [HOPT]<span class="pl-k">:</span> <span class="pl-k">if</span> <span class="pl-s"><span class="pl-pds">'</span>Kashtira Shangri-Ira<span class="pl-pds">'</span></span>.<span class="pl-en">Activated</span>(Effect[], <span class="pl-v">success</span><span class="pl-k">=</span>TRUE, <span class="pl-v">turn</span><span class="pl-k">=</span>THIS)<span class="pl-k">:</span>
  <span class="pl-smi">self</span>.<span class="pl-en">Summon</span>(Xyz, <span class="pl-v">transfer</span><span class="pl-k">=</span>TRUE) <span class="pl-k">with</span> <span class="pl-en">Monster</span>(<span class="pl-s"><span class="pl-pds">'</span>Kashtira<span class="pl-pds">'</span></span>, <span class="pl-v">control</span><span class="pl-k">=</span>YOU)
[<span class="pl-c1">1</span>] <span class="pl-en">req</span> <span class="pl-en">cont</span> <span class="pl-v">eff</span><span class="pl-k">:</span> <span class="pl-k">if</span> <span class="pl-en">would</span> <span class="pl-en">Send</span>(GY, Card[] <span class="pl-k">-&gt;</span> card), <span class="pl-en">Banish</span>(card)
[<span class="pl-c1">2</span>] <span class="pl-en">req</span> <span class="pl-en">trig</span> <span class="pl-en">eff</span> [OPC] <span class="pl-c1">on</span> <span class="pl-en">Banish</span>(Card[])<span class="pl-k">:</span> <span class="pl-en">Target</span>(Card[VOID]) <span class="pl-k">-&gt;</span> t; <span class="pl-smi">self</span>.<span class="pl-en">Attach</span>(t)
[<span class="pl-c1">3</span>] <span class="pl-en">opt</span> <span class="pl-en">quick</span> <span class="pl-en">eff</span> [OPT]<span class="pl-k">:</span> <span class="pl-smi">self</span>.<span class="pl-en">Detach</span>(<span class="pl-c1">3</span>), <span class="pl-en">Target</span>(Card[FIELD]) <span class="pl-k">-&gt;</span> t; <span class="pl-en">Banish</span>(t, <span class="pl-v">face</span><span class="pl-k">=</span>DOWN) </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="3"> <a href="https://yugipedia.com/wiki/Nirvana_High_Paladin" rel="nofollow">Nirvana High Paladin<sup>↗</sup></a> </td>
    <td> If a Pendulum Monster you control attacks, for that battle, it cannot be destroyed by battle, also you take no battle damage. At the end of the Damage Step, if a Pendulum Monster you control attacked: All monsters your opponent currently controls lose ATK equal to that attacking monster's ATK, until the end of this turn. </td>
  </tr>
  <tr>
    <td> 1 Tuner + 1+ non-Tuner Synchro Monsters <br> For this card's Synchro Summon, you can treat 1 Pendulum Summoned Pendulum Monster you control as a Tuner. If this card is Synchro Summoned using a Pendulum Summoned Pendulum Monster Tuner: You can target 1 card in your GY; add it to your hand. When this card destroys an opponent's monster by battle: You can halve your opponent's LP. If this card in the Monster Zone is destroyed by battle or card effect: You can place this card in your Pendulum Zone. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[P1] <span class="pl-en">req</span> <span class="pl-en">cont</span> <span class="pl-v">eff</span><span class="pl-k">:</span> <span class="pl-k">if</span> (Monster[Pend, <span class="pl-v">control</span><span class="pl-k">=</span>YOU] <span class="pl-k">-&gt;</span> t).<span class="pl-en">Attack</span>() <span class="pl-k">-&gt;</span> b,
  <span class="pl-smi">t</span>.<span class="pl-smi">Destroy</span><span class="pl-k">!</span>(Battle), <span class="pl-en">Alt</span>(<span class="pl-smi">b</span>.<span class="pl-smi">damage</span>, <span class="pl-c1">0</span>)
[P2] <span class="pl-en">req</span> <span class="pl-en">trig</span> <span class="pl-en">eff</span> [Step[Damage].<span class="pl-smi">end</span>]<span class="pl-k">:</span> <span class="pl-k">if</span> (Monster[Pend, <span class="pl-v">control</span><span class="pl-k">=</span>YOU] <span class="pl-k">-&gt;</span> t).<span class="pl-en">Attack</span>(),
  Monsters[<span class="pl-v">control</span><span class="pl-k">=</span>OPP].<span class="pl-en">Alt</span>(ATK, <span class="pl-k">-</span><span class="pl-smi">t</span>.<span class="pl-c1">ATK</span>) <span class="pl-k">until</span> <span class="pl-c1">TURN</span>.<span class="pl-smi">end</span>  </pre></div>
      <div class="highlight highlight-source-coffee"><pre>[S] Monster[Tuner], <span class="pl-c1">1</span><span class="pl-k">~</span> <span class="pl-k">*</span> Monster[Synchro, <span class="pl-v">Tuner</span><span class="pl-k">=</span>FALSE]
[C] <span class="pl-en">opt</span> <span class="pl-en">cond</span> <span class="pl-smi">self</span>.<span class="pl-en">Summon</span>(Synchro) <span class="pl-k">with</span> {
  Monster[Pend, <span class="pl-v">summon</span><span class="pl-k">=</span>Pend, <span class="pl-v">control</span><span class="pl-k">=</span>YOU] <span class="pl-k">as</span> Monster[Tuner] }
[<span class="pl-c1">1</span>] <span class="pl-en">opt</span> <span class="pl-en">trig</span> <span class="pl-en">eff</span> <span class="pl-c1">on</span> <span class="pl-smi">self</span>.<span class="pl-en">Summon</span>(Synchro) <span class="pl-k">with</span> Monster[Tuner, <span class="pl-v">summon</span><span class="pl-k">=</span>Pend]<span class="pl-k">:</span>
  <span class="pl-en">Target</span>(Card[<span class="pl-c1">YOU</span>.<span class="pl-c1">GY</span>]) <span class="pl-k">-&gt;</span> t; <span class="pl-smi">t</span>.<span class="pl-en">Add</span>(HAND)
[<span class="pl-c1">2</span>] <span class="pl-en">opt</span> <span class="pl-en">trig</span> <span class="pl-en">eff</span> <span class="pl-c1">on</span> <span class="pl-smi">self</span>.<span class="pl-en">Destroy</span>(Monster[<span class="pl-v">control</span><span class="pl-k">=</span>OPP], Battle)<span class="pl-k">:</span> <span class="pl-en">Alt</span>(<span class="pl-c1">OPP</span>.<span class="pl-c1">LP</span>, <span class="pl-k">-</span><span class="pl-c1">OPP</span>.<span class="pl-c1">LP</span><span class="pl-k">\</span><span class="pl-c1">2</span>)
[<span class="pl-c1">3</span>] <span class="pl-en">opt</span> <span class="pl-en">trig</span> <span class="pl-en">eff</span> <span class="pl-c1">on</span> <span class="pl-smi">self</span>.<span class="pl-en">Destroy</span>(Battle<span class="pl-k">/</span>Effect)<span class="pl-k">:</span> <span class="pl-smi">self</span>.<span class="pl-en">Place</span>(<span class="pl-c1">YOU</span>.<span class="pl-smi">Zone</span>[Pend]) </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="3"> <a href="https://yugipedia.com/wiki/Endymion,_the_Mighty_Master_of_Magic" rel="nofollow">Endymion, the Mighty Master of Magic<sup>↗</sup></a> </td>
    <td> You can remove 6 Spell Counters from your field; Special Summon this card from the Pendulum Zone, then count the number of cards you control that can have a Spell Counter, destroy up to that many cards on the field, and if you do, place Spell Counters on this card equal to the number of cards destroyed. You can only use this effect of "Endymion, the Mighty Master of Magic" once per turn. </td>
  </tr>
  <tr>
    <td> Once per turn, when a Spell/Trap Card or effect is activated (Quick Effect): You can return 1 card you control with a Spell Counter to the hand, and if you do, negate the activation, and if you do that, destroy it. Then, you can place the same number of Spell Counters on this card that the returned card had. While this card has a Spell Counter, your opponent cannot target it with card effects, also it cannot be destroyed by your opponent's card effects. When this card with a Spell Counter is destroyed by battle: You can add 1 Normal Spell from your Deck to your hand. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[<span class="pl-c1">1</span>] <span class="pl-en">opt</span> ignit<span class="pl-k">?</span> <span class="pl-en">eff</span> [HOPT]<span class="pl-k">:</span> <span class="pl-en">Remove</span>(<span class="pl-c1">YOU</span>.<span class="pl-c1">FIELD</span>, <span class="pl-c1">6</span> <span class="pl-k">*</span> Counter[Spell]);
  <span class="pl-smi">self</span>.<span class="pl-en">Summon</span>(Special), Cards[FIELD, counters[Spell] <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>] <span class="pl-k">-&gt;</span> n,
  {<span class="pl-en">Destroy</span>(FIELD, <span class="pl-c1">0</span><span class="pl-k">~</span>n <span class="pl-k">*</span> Card[]) <span class="pl-k">-&gt;</span> d} <span class="pl-en">to</span> <span class="pl-en">Change</span>(<span class="pl-smi">self</span>.<span class="pl-smi">Counters</span>[Spell], <span class="pl-k">+</span>d)  </pre></div>
      <div class="highlight highlight-source-coffee"><pre>[<span class="pl-c1">1</span>] <span class="pl-en">cont</span> <span class="pl-en">eff</span> <span class="pl-k">while</span> <span class="pl-smi">self</span>.<span class="pl-smi">counters</span>[Spell] <span class="pl-k">&gt;</span> <span class="pl-c1">0</span><span class="pl-k">:</span> OPP.(Target<span class="pl-k">/</span>Destroy)<span class="pl-k">!</span>(self) <span class="pl-k">with</span> Effects[]
[<span class="pl-c1">2</span>] <span class="pl-en">opt</span> <span class="pl-en">quick</span> <span class="pl-en">eff</span> [OPT] <span class="pl-c1">on</span> <span class="pl-en">Activate</span>(Card<span class="pl-k">/</span>Effect[Spell<span class="pl-k">/</span>Trap] <span class="pl-k">-&gt;</span> <span class="pl-v">e</span><span class="pl-k">:</span>
  <span class="pl-en">Return</span>(HAND, Card[<span class="pl-v">control</span><span class="pl-k">=</span>YOU, {counters[Spell] <span class="pl-k">-&gt;</span> c} <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>])
  <span class="pl-en">to</span> <span class="pl-en">Negate</span>(<span class="pl-smi">e</span>.<span class="pl-smi">activation</span>) <span class="pl-en">to</span> <span class="pl-en">Destroy</span>(<span class="pl-smi">e</span>.<span class="pl-smi">card</span>), Change<span class="pl-k">?</span>(<span class="pl-smi">self</span>.<span class="pl-smi">counters</span>[Spell], <span class="pl-k">+</span>c)
[<span class="pl-c1">3</span>] <span class="pl-en">opt</span> <span class="pl-en">trig</span> <span class="pl-en">eff</span> <span class="pl-c1">on</span> <span class="pl-en">Destroy</span>(self) <span class="pl-k">with</span> <span class="pl-en">Battle</span>() <span class="pl-k">while</span> <span class="pl-smi">self</span>.<span class="pl-smi">counters</span>[Spell] <span class="pl-k">&gt;</span> <span class="pl-c1">0</span><span class="pl-k">:</span>
  <span class="pl-en">Add</span>(DECK, HAND, Spell[Normal]) </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Inspector_Boarder" rel="nofollow">Inspector Boarder<sup>↗</sup></a> </td>
    <td> Cannot be Normal or Special Summoned if you control a monster. Neither player can activate monster effects unless the number of monster effects that player has previously activated that turn is less than the number of monster card types currently on the field (Ritual, Fusion, Synchro, Xyz, Pendulum, and Link). (If an effect's activation was negated, it still counts toward the total for that turn. Only count effects that were activated while this monster was face-up on the field.) </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[C] <span class="pl-v">cond</span><span class="pl-k">:</span> <span class="pl-k">if</span> <span class="pl-c1">YOU</span>.<span class="pl-en">Control</span>(Monster[]) <span class="pl-k">then</span> <span class="pl-smi">self</span>.<span class="pl-smi">Summon</span><span class="pl-k">!</span>(Normal <span class="pl-k">/</span> Special)
[D] <span class="pl-k">var</span> Players[].<span class="pl-smi">count</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>
[<span class="pl-c1">1</span>] <span class="pl-en">req</span> act<span class="pl-k">!</span> <span class="pl-en">eff</span> <span class="pl-c1">on</span> (Player[] <span class="pl-k">-&gt;</span> p).<span class="pl-en">Activate</span>(Effect[Monster])<span class="pl-k">:</span> <span class="pl-en">Alt</span>(<span class="pl-smi">p</span>.<span class="pl-smi">count</span>, <span class="pl-k">+</span><span class="pl-c1">1</span>)
[<span class="pl-c1">2</span>] <span class="pl-en">req</span> <span class="pl-en">cont</span> <span class="pl-v">eff</span><span class="pl-k">:</span> <span class="pl-en">Count</span>(Monsters[FIELD].<span class="pl-smi">classes</span>[R<span class="pl-k">/</span>F<span class="pl-k">/</span>S<span class="pl-k">/</span>X<span class="pl-k">/</span>P<span class="pl-k">/</span>L], UNIQUE) <span class="pl-k">-&gt;</span> c,
  <span class="pl-k">if</span> (Player[count<span class="pl-k">&gt;=</span>c] <span class="pl-k">-&gt;</span> p) <span class="pl-k">then</span> <span class="pl-smi">p</span>.<span class="pl-smi">Activate</span><span class="pl-k">!</span>(Effect[Monster])
[<span class="pl-c1">3</span>] <span class="pl-en">req</span> act<span class="pl-k">!</span> <span class="pl-en">eff</span> <span class="pl-c1">on</span> Turn[].<span class="pl-smi">end</span><span class="pl-k">:</span> Players[].<span class="pl-smi">count</span> <span class="pl-k">=</span> <span class="pl-c1">0</span> </pre></div>
    </td>
  </tr>
</tbody></table>
<div class="markdown-heading"><h3 class="heading-element">Spell/Traps</h3><a id="user-content-spelltraps" class="anchor" aria-label="Permalink: Spell/Traps" href="#spelltraps"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<table>
  <tbody><tr>
    <th rowspan="2"> card </th>
    <th> PSCT </th>
  </tr>
  <tr>
    <th> <em>PSCT</em> </th>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Primeval_Planet_Perlereino" rel="nofollow">Primeval Planet Perlereino<sup>↗</sup></a> </td>
    <td> When this card is activated: You can add 1 "Tearlaments" monster or 1 "Visas Starfrost" from your Deck to your hand. Fusion Monsters and "Tearlaments" monsters you control gain 500 ATK. If a "Tearlaments" monster(s) you control or in your GY is shuffled into the Deck or Extra Deck (except during the Damage Step): You can target 1 card on the field; destroy it. You can only use this effect of "Primeval Planet Perlereino" once per turn. You can only activate 1 "Primeval Planet Perlereino" per turn. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre><span class="pl-en">act</span> <span class="pl-en">eff</span> [OPT]<span class="pl-k">:</span> <span class="pl-c1">HAND</span>.<span class="pl-en">Add</span>(DECK, Monster[<span class="pl-s"><span class="pl-pds">'</span>Tearlaments<span class="pl-pds">'</span></span>]<span class="pl-k">/</span><span class="pl-s"><span class="pl-pds">'</span>Visas Starfrost<span class="pl-pds">'</span></span>)
[<span class="pl-c1">1</span>] <span class="pl-en">req</span> <span class="pl-en">cont</span> <span class="pl-v">eff</span><span class="pl-k">:</span> <span class="pl-en">Alt</span>(ATK, Monsters[<span class="pl-s"><span class="pl-pds">'</span>Tearlaments<span class="pl-pds">'</span></span>]<span class="pl-k">/</span>Monsters[Fusion])[<span class="pl-v">control</span><span class="pl-k">=</span>YOU], <span class="pl-k">+</span><span class="pl-c1">500</span>)
[<span class="pl-c1">2</span>] trig<span class="pl-k">?</span> <span class="pl-en">eff</span> [<span class="pl-v">HOPT</span>, <span class="pl-v">Step</span>[Damage]<span class="pl-k">=</span><span class="pl-v">FALSE</span>]
  <span class="pl-c1">on</span> <span class="pl-en">Shuffle</span>(YOU.(FIELD<span class="pl-k">/</span>GY), YOU.(DECK<span class="pl-k">/</span>EXTRA) Monster[<span class="pl-s"><span class="pl-pds">'</span>Tearlaments<span class="pl-pds">'</span></span>])<span class="pl-k">:</span>
  <span class="pl-en">Target</span>(Card[FIELD]) <span class="pl-k">-&gt;</span> t; <span class="pl-en">Destroy</span>(t) </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Rank-Up-Magic_Revolution_Force" rel="nofollow">Rank-Up-Magic Revolution Force<sup>↗</sup></a> </td>
    <td> ● During your turn: Target 1 "Raidraptor" Xyz Monster you control; Special Summon from your Extra Deck, 1 "Raidraptor" monster that is 1 Rank higher than that target, by using that target as the Xyz Material. <br> ● During your opponent's turn: Target 1 Xyz Monster your opponent controls with no Xyz Materials; take control of that Xyz Monster, then Special Summon from your Extra Deck, 1 "Raidraptor" monster that is 1 Rank higher than that monster, by using it as the Xyz Material. <br> (These Special Summons are treated as Xyz Summons. Attached Xyz Materials also become Xyz Materials on the Summoned monster.) </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[<span class="pl-c1">1</span>] <span class="pl-en">act</span> <span class="pl-en">eff</span> <span class="pl-en">Choose</span>() {
  [<span class="pl-c1">1.1</span>] [<span class="pl-v">turn</span><span class="pl-k">=</span>YOU]<span class="pl-k">:</span> <span class="pl-en">Target</span>(Monster[Xyz, <span class="pl-s"><span class="pl-pds">'</span>Raidraptor<span class="pl-pds">'</span></span>, <span class="pl-v">control</span><span class="pl-k">=</span>YOU]) <span class="pl-k">-&gt;</span> t;
    <span class="pl-en">Summon</span>(Xyz, Extra, Monster[Xyz, <span class="pl-s"><span class="pl-pds">'</span>Raidraptor<span class="pl-pds">'</span></span>, <span class="pl-v">rank</span><span class="pl-k">=</span><span class="pl-smi">t</span>.<span class="pl-smi">rank</span><span class="pl-k">+</span><span class="pl-c1">1</span>], <span class="pl-v">transfer</span><span class="pl-k">=</span>TRUE) <span class="pl-k">with</span> t
  [<span class="pl-c1">1.2</span>] [<span class="pl-v">turn</span><span class="pl-k">=</span>OPP]<span class="pl-k">:</span> <span class="pl-en">Target</span>(Monster[Xyz, <span class="pl-v">control</span><span class="pl-k">=</span>OPP, <span class="pl-v">materials</span><span class="pl-k">=</span><span class="pl-c1">0</span>]) <span class="pl-k">-&gt;</span> t; <span class="pl-smi">t</span>.<span class="pl-en">Alt</span>(<span class="pl-v">control</span><span class="pl-k">=</span>YOU),
    <span class="pl-en">Summon</span>(Xyz, Extra, Monster[Xyz, <span class="pl-s"><span class="pl-pds">'</span>Raidraptor<span class="pl-pds">'</span></span>, <span class="pl-v">rank</span><span class="pl-k">=</span><span class="pl-smi">t</span>.<span class="pl-smi">rank</span><span class="pl-k">+</span><span class="pl-c1">1</span>], <span class="pl-v">transfer</span><span class="pl-k">=</span>TRUE) <span class="pl-k">with</span> t
} </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/Small_World" rel="nofollow">Small World<sup>↗</sup></a> </td>
    <td> Reveal 1 monster in your hand, choose 1 monster from your Deck that has exactly 1 of the same Type, Attribute, Level, ATK or DEF, and banish the revealed monster from your hand face-down. Then add, from the Deck to your hand, 1 monster that has exactly 1 of the same Type, Attribute, Level, ATK or DEF as the monster chosen from your Deck, and banish the card chosen from the Deck face-down. You can only activate 1 "Small World" per turn. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[D] <span class="pl-en">func</span> <span class="pl-en">Data</span>(Monster[] <span class="pl-k">-&gt;</span> c) <span class="pl-en">gives</span> List[<span class="pl-smi">c</span>.<span class="pl-smi">level</span>, <span class="pl-smi">c</span>.<span class="pl-smi">type</span>, <span class="pl-smi">c</span>.<span class="pl-smi">attr</span>, <span class="pl-smi">c</span>.<span class="pl-c1">ATK</span>, <span class="pl-smi">c</span>.<span class="pl-c1">DEF</span>]
[D] <span class="pl-en">func</span> <span class="pl-en">Connected</span>(<span class="pl-c1">2</span> <span class="pl-k">*</span> Monster[] <span class="pl-k">-&gt;</span> c1, c2) {
  List[Bool[<span class="pl-en">Data</span>(c1)[i] <span class="pl-k">=</span> <span class="pl-en">Data</span>(c2)[i]] <span class="pl-k">for</span> <span class="pl-v">i</span> <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">~</span><span class="pl-c1">5</span>] <span class="pl-k">-&gt;</span> d,
  Bool[<span class="pl-en">Count</span>(d, TRUE) <span class="pl-k">=</span> <span class="pl-c1">1</span>] <span class="pl-k">-&gt;</span> OUT
}
[<span class="pl-c1">1</span>] <span class="pl-en">act</span> <span class="pl-en">eff</span> [HOPT[Activate]]<span class="pl-k">:</span> <span class="pl-en">Reveal</span>(HAND, Monster[] <span class="pl-k">-&gt;</span> t1), <span class="pl-en">Reveal</span>(DECK, Monster[] <span class="pl-k">-&gt;</span> t2)
  <span class="pl-en">where</span> <span class="pl-en">Connected</span>(t1, t2), <span class="pl-en">Banish</span>(t1, <span class="pl-v">face</span><span class="pl-k">=</span>DOWN), <span class="pl-en">Add</span>(DECK, HAND, Monster[] <span class="pl-k">-&gt;</span> t3)
  <span class="pl-en">where</span> <span class="pl-en">Connected</span>(t3, t2), <span class="pl-en">Banish</span>(t2, <span class="pl-v">face</span><span class="pl-k">=</span>DOWN) </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Branded_Retribution" rel="nofollow">Branded Retribution<sup>↗</sup></a> </td>
    <td> When a Spell/Trap Card, or monster effect, is activated that includes an effect that Special Summons a monster(s): Return to the Extra Deck, 1 face-up Fusion Monster you control, or 2 Fusion Monsters in your GY, that mention "Fallen of Albaz" as material, and if you do, negate the activation, and if you do that, destroy that card. You can banish this card from your GY, then target 1 "Branded" Spell/Trap in your GY, except "Branded Retribution"; add it to your hand. You can only use 1 "Branded Retribution" effect per turn, and only once that turn. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre><span class="pl-en">act</span> [HOPT[Activate]] <span class="pl-c1">on</span> <span class="pl-en">Activate</span>(Card[Spell<span class="pl-k">/</span>Trap] <span class="pl-k">/</span> Effect[Monster]) <span class="pl-k">-&gt;</span> e
  <span class="pl-en">where</span> <span class="pl-en">e</span> <span class="pl-en">would</span> <span class="pl-en">Summon</span>(Special, Monster[])<span class="pl-k">:</span>
  Monster[Fusion, <span class="pl-en">materials</span> <span class="pl-en">has</span> <span class="pl-s"><span class="pl-pds">'</span>Fallen of Albaz<span class="pl-pds">'</span></span>] <span class="pl-k">-&gt;</span> t,
  <span class="pl-en">Return</span>(t[<span class="pl-c1">YOU</span>.<span class="pl-c1">FIELD</span>] <span class="pl-k">/</span> <span class="pl-c1">2</span> <span class="pl-k">*</span> t[<span class="pl-c1">YOU</span>.<span class="pl-c1">GY</span>]) <span class="pl-en">to</span> <span class="pl-en">Negate</span>(<span class="pl-smi">e</span>.<span class="pl-smi">activation</span>) <span class="pl-en">to</span> <span class="pl-en">Destroy</span>(<span class="pl-smi">e</span>.<span class="pl-smi">card</span>)
[<span class="pl-c1">1</span>] <span class="pl-en">opt</span> quick<span class="pl-k">?</span> <span class="pl-en">eff</span> [HOPT]<span class="pl-k">:</span> <span class="pl-smi">self</span>.<span class="pl-en">Banish</span>(GY),
  <span class="pl-en">Target</span>(GY, Spell<span class="pl-k">/</span>Trap[<span class="pl-s"><span class="pl-pds">'</span>Branded<span class="pl-pds">'</span></span>]) <span class="pl-k">-&gt;</span> t; <span class="pl-en">Add</span>(GY, HAND, t)
[C] <span class="pl-en">cond</span> <span class="pl-c1">YOU</span>.<span class="pl-smi">Use</span><span class="pl-k">?</span>(<span class="pl-smi">self</span>.<span class="pl-smi">Effect</span>[], <span class="pl-v">count</span><span class="pl-k">=</span><span class="pl-c1">1</span>, <span class="pl-v">each</span><span class="pl-k">=</span>turn) </pre></div>
    </td>
  </tr>
  <tr>
    <td rowspan="2"> <a href="https://yugipedia.com/wiki/Last_Turn" rel="nofollow">Last Turn<sup>↗</sup></a> </td>
    <td> This card can only be activated during your opponent's turn when your Life Points are 1000 or less. Select 1 monster on your side of the field and send all other cards on the field and in their respective owners' hands to their respective Graveyards. After that, your opponent selects and Special Summons 1 monster from their Deck in face-up Attack Position and attacks your selected monster. (Any Battle Damage from this battle is treated as 0.) The player whose monster remains alone on the field at the End Phase of this turn wins the Duel. Any other case results in a DRAW. </td>
  </tr>
  <tr>
    <td>
      <div class="highlight highlight-source-coffee"><pre>[<span class="pl-c1">1</span>] <span class="pl-en">act</span> <span class="pl-en">eff</span> [<span class="pl-v">turn</span> <span class="pl-k">=</span> OPP] <span class="pl-k">while</span> <span class="pl-c1">YOU</span>.<span class="pl-c1">LP</span> <span class="pl-k">=</span><span class="pl-k">&lt;</span> <span class="pl-c1">1000</span><span class="pl-k">:</span> {
  <span class="pl-en">Choose</span>(Monster[], Monsters[<span class="pl-v">control</span> <span class="pl-k">=</span> YOU]) <span class="pl-k">-&gt;</span> t
  <span class="pl-k">and</span> <span class="pl-en">Send</span>(Players[].(HAND <span class="pl-k">&amp;</span> FIELD), GY, Cards[Card <span class="pl-k">!=</span> t])
}  
  [<span class="pl-c1">1.1</span>] <span class="pl-en">req</span> act<span class="pl-k">!</span> <span class="pl-en">eff</span> <span class="pl-c1">on</span> <span class="pl-en">Resolve</span>([<span class="pl-c1">1</span>].<span class="pl-smi">Chain</span>)<span class="pl-k">:</span> <span class="pl-c1">OPP</span>.<span class="pl-en">Summon</span>(Special, DECK, Monster[], <span class="pl-v">pos</span><span class="pl-k">=</span>ATK) <span class="pl-k">-&gt;</span> k,
    <span class="pl-smi">k</span>.<span class="pl-en">Attack</span>(t) <span class="pl-k">-&gt;</span> b, <span class="pl-en">Alt</span>(<span class="pl-smi">b</span>.<span class="pl-smi">damage</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>)
  [<span class="pl-c1">1.2</span>] <span class="pl-en">req</span> act<span class="pl-k">!</span> <span class="pl-en">eff</span> [<span class="pl-v">phase</span><span class="pl-k">=</span>END, <span class="pl-v">turn</span><span class="pl-k">=</span>THIS]<span class="pl-k">:</span> {
    <span class="pl-k">if</span> (<span class="pl-smi">t</span>.<span class="pl-smi">control</span> <span class="pl-k">=</span> YOU <span class="pl-k">and</span> <span class="pl-smi">k</span>.<span class="pl-smi">control</span> <span class="pl-k">=</span> NONE) <span class="pl-k">then</span> <span class="pl-c1">DUEL</span>.<span class="pl-smi">win</span> <span class="pl-k">=</span> YOU
    <span class="pl-k">else</span> <span class="pl-k">if</span> <span class="pl-smi">t</span>.<span class="pl-smi">control</span> <span class="pl-k">=</span> NONE <span class="pl-k">and</span> <span class="pl-smi">k</span>.<span class="pl-smi">control</span> <span class="pl-k">=</span> OPP) <span class="pl-k">then</span> <span class="pl-c1">DUEL</span>.<span class="pl-smi">win</span> <span class="pl-k">=</span> OPP
    <span class="pl-k">else</span> <span class="pl-c1">DUEL</span>.<span class="pl-smi">win</span> <span class="pl-k">=</span> NONE
  } </pre></div>
    </td>
  </tr>
</tbody></table>
<br>
<div class="markdown-heading"><h2 class="heading-element">Documentation</h2><a id="user-content-documentation" class="anchor" aria-label="Permalink: Documentation" href="#documentation"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<blockquote>
<p>[!Note]
If it isn’t abundantly clear already, this is entirely esoteric and <em>not</em> intended for actual use. For now.</p>
<p>Regardless, here I’ll try to document all the defined keywords and all!</p>
</blockquote>
<div class="markdown-heading"><h3 class="heading-element">Types</h3><a id="user-content-types" class="anchor" aria-label="Permalink: Types" href="#types"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-coffee"><pre><span class="pl-c1">Boolean</span> <span class="pl-k">=</span> [TRUE<span class="pl-k">/</span>FALSE]
Int
List
<span class="pl-v">None</span> <span class="pl-k">=</span> NONE
Num
<span class="pl-c1">String</span></pre></div>
<div class="markdown-heading"><h3 class="heading-element">Constants</h3><a id="user-content-constants" class="anchor" aria-label="Permalink: Constants" href="#constants"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-coffee"><pre><span class="pl-v">Player</span> <span class="pl-k">=</span> [YOU<span class="pl-k">/</span>OPP]
<span class="pl-v">Location</span> <span class="pl-k">=</span> [HAND<span class="pl-k">/</span>FIELD<span class="pl-k">/</span>DECK<span class="pl-k">/</span>EXTRA<span class="pl-k">/</span>GY<span class="pl-k">/</span>VOID]
<span class="pl-v">Zone</span> <span class="pl-k">=</span> [MONSTER<span class="pl-k">/</span>ST<span class="pl-k">/</span>FIELD<span class="pl-k">/</span>EXTRA]

<span class="pl-v">Attribute</span> <span class="pl-k">=</span> [FIRE<span class="pl-k">/</span>WATER<span class="pl-k">/</span>EARTH<span class="pl-k">/</span>WIND<span class="pl-k">/</span>LIGHT<span class="pl-k">/</span>DARK<span class="pl-k">/</span>DIVINE]
<span class="pl-v">Type</span> <span class="pl-k">=</span> [Aqua<span class="pl-k">/</span><span class="pl-k">...</span><span class="pl-k">/</span>Zombie]
<span class="pl-v">Ability</span> <span class="pl-k">=</span> [Gemini<span class="pl-k">/</span>Spirit<span class="pl-k">/</span>Toon<span class="pl-k">/</span>Tuner<span class="pl-k">/</span>Union]

<span class="pl-v">Position</span> <span class="pl-k">=</span> [ATK<span class="pl-k">/</span>DEF]
<span class="pl-v">Face</span> <span class="pl-k">=</span> [UP<span class="pl-k">/</span>DOWN]
<span class="pl-v">Direction</span> <span class="pl-k">=</span> [T<span class="pl-k">/</span>L<span class="pl-k">/</span>D<span class="pl-k">/</span>R<span class="pl-k">/</span>TL<span class="pl-k">/</span>TR<span class="pl-k">/</span>DL<span class="pl-k">/</span>DR]</pre></div>
<div class="markdown-heading"><h3 class="heading-element">Objects</h3><a id="user-content-objects" class="anchor" aria-label="Permalink: Objects" href="#objects"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-coffee"><pre><span class="pl-en">Player</span> {
  <span class="pl-v">LP</span><span class="pl-k">:</span> Num
}

<span class="pl-en">Card</span> {
  <span class="pl-en">type</span> [Monster<span class="pl-k">/</span>Spell<span class="pl-k">/</span>Trap]
  <span class="pl-v">name</span><span class="pl-k">:</span> <span class="pl-c1">String</span>
  <span class="pl-v">archetype</span><span class="pl-k">:</span> <span class="pl-c1">String</span> <span class="pl-k">=</span> NONE
}

Monster[Card] {
  <span class="pl-v">ATK</span><span class="pl-k">:</span> Int<span class="pl-k">/</span><span class="pl-v">None</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>
  <span class="pl-v">DEF</span><span class="pl-k">:</span> Int<span class="pl-k">/</span><span class="pl-v">None</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>
  <span class="pl-v">effect</span><span class="pl-k">:</span> <span class="pl-c1">Boolean</span> <span class="pl-k">=</span> auto
  <span class="pl-v">pendulum</span><span class="pl-k">:</span> <span class="pl-c1">Boolean</span> <span class="pl-k">=</span> FALSE
  <span class="pl-v">kind</span><span class="pl-k">:</span> [<span class="pl-v">MAIN</span><span class="pl-k">/</span><span class="pl-v">EXTRA</span>] <span class="pl-k">=</span> NONE
  <span class="pl-v">class</span><span class="pl-k">:</span> [Fusion<span class="pl-k">/</span>Synchro<span class="pl-k">/</span>Xyz<span class="pl-k">/</span>Link]
  <span class="pl-v">attr</span><span class="pl-k">:</span> Attribute
  <span class="pl-v">type</span><span class="pl-k">:</span> Type
  <span class="pl-v">ability</span><span class="pl-k">:</span> Ability<span class="pl-k">/</span><span class="pl-v">s</span> <span class="pl-k">=</span> NONE
  <span class="pl-v">level</span><span class="pl-k">:</span> <span class="pl-en">Int</span> [<span class="pl-c1">0</span><span class="pl-k">~</span><span class="pl-c1">13</span>]
  <span class="pl-v">rank</span><span class="pl-k">:</span> <span class="pl-en">Int</span> [<span class="pl-c1">0</span><span class="pl-k">~</span><span class="pl-c1">13</span>] <span class="pl-k">=</span> NONE
  <span class="pl-v">link</span><span class="pl-k">:</span> <span class="pl-en">Int</span> [<span class="pl-c1">1</span><span class="pl-k">~</span><span class="pl-c1">8</span>] <span class="pl-k">=</span> NONE
  <span class="pl-v">arrows</span><span class="pl-k">:</span> Direction <span class="pl-k">/</span> List[Direction] <span class="pl-k">=</span> NONE
  <span class="pl-v">pos</span><span class="pl-k">:</span> <span class="pl-v">Position</span> <span class="pl-k">=</span> ATK
  <span class="pl-v">face</span><span class="pl-k">:</span> <span class="pl-v">Face</span> <span class="pl-k">=</span> UP
}

Spell[Card] {
  <span class="pl-v">property</span><span class="pl-k">:</span> [Normal<span class="pl-k">/</span>Quick<span class="pl-k">/</span>Field<span class="pl-k">/</span>Cont<span class="pl-k">/</span>Equip<span class="pl-k">/</span>Ritual]
}

Trap[Card] {
  <span class="pl-v">property</span><span class="pl-k">:</span> [Normal<span class="pl-k">/</span>Cont<span class="pl-k">/</span>Counter]
}

<span class="pl-en">Effect</span> {
  <span class="pl-v">type</span><span class="pl-k">:</span> [NONE <span class="pl-sr"><span class="pl-pds">/</span> Quick<span class="pl-pds">/</span></span><span class="pl-k">?</span> <span class="pl-sr"><span class="pl-pds">/</span> Trigger<span class="pl-pds">/</span></span><span class="pl-k">?</span> <span class="pl-k">/</span> Ignit<span class="pl-k">?</span> <span class="pl-k">/</span> Cont]
  <span class="pl-v">cool</span><span class="pl-k">:</span> [OPT<span class="pl-k">/</span>HOPT<span class="pl-k">/</span> <span class="pl-k">...</span>]
}

<span class="pl-en">Counter</span> {
  <span class="pl-v">type</span><span class="pl-k">:</span> [Spell<span class="pl-k">/</span> <span class="pl-k">...</span>]
}</pre></div>
<div class="markdown-heading"><h3 class="heading-element">Actions</h3><a id="user-content-actions" class="anchor" aria-label="Permalink: Actions" href="#actions"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-coffee"><pre>.<span class="pl-en">Add</span>(
  <span class="pl-v">source</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [DECK<span class="pl-k">/</span>GY<span class="pl-k">/</span>VOID]
  <span class="pl-v">dest</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [HAND<span class="pl-k">/</span>EXTRA]
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

.<span class="pl-en">Alt</span>(
  <span class="pl-v">property</span><span class="pl-k">:</span> <span class="pl-en">Property</span> [LEVEL<span class="pl-k">/</span>TYPE<span class="pl-k">/</span>ATTR<span class="pl-k">/</span>ATK<span class="pl-k">/</span>DEF]
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
  <span class="pl-v">value</span> <span class="pl-k">=</span> <span class="pl-k">?</span>
)

.<span class="pl-en">Apply</span>(
  <span class="pl-v">effect</span><span class="pl-k">:</span> Effect<span class="pl-k">/</span>Condition
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
)

.<span class="pl-en">Attach</span>(
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Monster[Xyz]
  <span class="pl-v">cards</span><span class="pl-k">:</span> Card
)

.<span class="pl-en">Attack</span>(
  .<span class="pl-smi">source</span><span class="pl-k">:</span> <span class="pl-v">Monster</span> <span class="pl-k">=</span> SELF
  <span class="pl-v">target</span><span class="pl-k">:</span> Monster<span class="pl-k">/</span>Player
)

.<span class="pl-en">Banish</span>(
  <span class="pl-v">source</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [<span class="pl-v">HAND</span><span class="pl-k">/</span><span class="pl-v">FIELD</span><span class="pl-k">/</span><span class="pl-v">DECK</span><span class="pl-k">/</span><span class="pl-v">EXTRA</span><span class="pl-k">/</span><span class="pl-v">GY</span>] <span class="pl-k">=</span> auto
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
  <span class="pl-v">face</span><span class="pl-k">:</span> [<span class="pl-v">UP</span><span class="pl-k">/</span><span class="pl-v">DOWN</span>] <span class="pl-k">=</span> UP
)

.<span class="pl-en">Battle</span>(
  .<span class="pl-smi">attack</span><span class="pl-k">:</span> Monster
  <span class="pl-v">target</span><span class="pl-k">:</span> Monster
)

<span class="pl-en">Choose</span>(
  {options}<span class="pl-k">:</span> Options
) <span class="pl-k">-&gt;</span> Option<span class="pl-k">/</span>s

.<span class="pl-en">Destroy</span>(
  <span class="pl-v">source</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [<span class="pl-v">HAND</span><span class="pl-k">/</span><span class="pl-v">FIELD</span><span class="pl-k">/</span><span class="pl-v">DECK</span><span class="pl-k">/</span><span class="pl-v">EXTRA</span>] <span class="pl-k">=</span> auto
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

.<span class="pl-en">Detach</span>(
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Monster[Xyz]
  <span class="pl-v">material</span><span class="pl-k">:</span> Int <span class="pl-k">/</span> Card<span class="pl-k">/</span><span class="pl-v">s</span> <span class="pl-k">=</span> <span class="pl-c1">1</span> <span class="pl-k">*</span> Card[]
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

<span class="pl-en">Discard</span>(
  <span class="pl-v">cards</span><span class="pl-k">:</span> Int <span class="pl-k">/</span> Card<span class="pl-k">/</span><span class="pl-v">s</span> <span class="pl-k">=</span> <span class="pl-c1">1</span> <span class="pl-k">*</span> Card[]
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

<span class="pl-en">Draw</span>(
  <span class="pl-v">count</span><span class="pl-k">:</span> <span class="pl-v">Int</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>
)

<span class="pl-en">Excavate</span>(
  <span class="pl-v">count</span><span class="pl-k">:</span> <span class="pl-v">Int</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

<span class="pl-smi">player</span>.<span class="pl-en">Gain</span>(
  <span class="pl-v">points</span><span class="pl-k">:</span> Int
)

<span class="pl-smi">Card</span>.<span class="pl-en">Gain</span>(
  <span class="pl-v">effect</span><span class="pl-k">:</span> Effect<span class="pl-k">/</span>s
)

<span class="pl-en">Inflict</span>(
  <span class="pl-v">damage</span><span class="pl-k">:</span> Int
)

.<span class="pl-en">Leave</span>(
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
  <span class="pl-v">loc</span><span class="pl-k">:</span> Location
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

.<span class="pl-en">Negate</span>(
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Event
  <span class="pl-v">kind</span><span class="pl-k">:</span> [effect<span class="pl-k">/</span>activation]
)

.<span class="pl-en">Return</span>(
  <span class="pl-v">source</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [FIELD<span class="pl-k">/</span>GY<span class="pl-k">/</span>VOID]
  <span class="pl-v">dest</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [HAND<span class="pl-k">/</span>EXTRA<span class="pl-k">/</span>GY]
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

.<span class="pl-en">Reveal</span>(
  <span class="pl-v">source</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [HAND<span class="pl-k">/</span>DECK<span class="pl-k">/</span>EXTRA]
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

.<span class="pl-en">Send</span>(
  <span class="pl-v">source</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [HAND<span class="pl-k">/</span>FIELD<span class="pl-k">/</span>DECK<span class="pl-k">/</span>EXTRA]
  <span class="pl-v">dest</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [<span class="pl-v">GY</span>] <span class="pl-k">=</span> <span class="pl-c1">YOU</span>.<span class="pl-c1">GY</span>
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s

.<span class="pl-en">Shuffle</span>(
  <span class="pl-v">source</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [HAND<span class="pl-k">/</span>FIELD<span class="pl-k">/</span>GY<span class="pl-k">/</span>VOID]
  <span class="pl-v">dest</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [DECK<span class="pl-k">/</span>EXTRA]
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
)

.<span class="pl-en">Summon</span>(
  <span class="pl-v">source</span><span class="pl-k">:</span> <span class="pl-en">Location</span> [HAND<span class="pl-k">/</span>FIELD<span class="pl-k">/</span>DECK<span class="pl-k">/</span>EXTRA<span class="pl-k">/</span>GY<span class="pl-k">/</span>VOID]
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Monster<span class="pl-k">/</span>s
)

.<span class="pl-en">Use</span>(
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>Player
  <span class="pl-v">use</span><span class="pl-k">:</span> Effect <span class="pl-k">/</span> <span class="pl-k">...</span>
)

.<span class="pl-en">Target</span>(
  .<span class="pl-smi">target</span><span class="pl-k">:</span> Card<span class="pl-k">/</span>s
) <span class="pl-k">-&gt;</span> Card<span class="pl-k">/</span>s</pre></div>
<div class="markdown-heading"><h3 class="heading-element">Functions</h3><a id="user-content-functions" class="anchor" aria-label="Permalink: Functions" href="#functions"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="highlight highlight-source-coffee"><pre>.<span class="pl-en">Count</span>(
  .<span class="pl-smi">list</span><span class="pl-k">:</span> List
  <span class="pl-v">target</span><span class="pl-k">:</span> Item<span class="pl-k">/</span>s <span class="pl-k">/</span> 
)</pre></div>
